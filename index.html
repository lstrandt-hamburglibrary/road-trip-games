<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Road Trip Games - Your Ultimate Travel Companion</title>
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#ff6b35">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Road Trip">

    <!-- App Version for automatic updates -->
    <script>window.APP_VERSION = '1.3.0';</script>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #ff6b35 0%, #f7931e 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .app-container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        .header {
            background: linear-gradient(135deg, #ff6b35 0%, #f7931e 100%);
            color: white;
            padding: 2rem;
            text-align: center;
        }

        .header h1 {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        .header p {
            opacity: 0.9;
            font-size: 1rem;
        }

        .content {
            padding: 2rem;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }

        .feature-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 2rem;
            border-radius: 15px;
            text-align: center;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .feature-card:hover {
            transform: translateY(-5px);
        }

        .feature-card h3 {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
        }

        .feature-card p {
            opacity: 0.9;
        }

        .welcome {
            text-align: center;
            padding: 2rem;
        }

        .welcome h2 {
            color: #333;
            margin-bottom: 1rem;
        }

        .welcome p {
            color: #666;
            font-size: 1.1rem;
            line-height: 1.6;
        }

        .roadmap {
            margin-top: 3rem;
            padding: 2rem;
            background: #f8f9fa;
            border-radius: 15px;
        }

        .roadmap h2 {
            color: #333;
            margin-bottom: 1.5rem;
            text-align: center;
        }

        .roadmap-section {
            margin-bottom: 2rem;
        }

        .roadmap-section h3 {
            color: #ff6b35;
            margin-bottom: 1rem;
            font-size: 1.3rem;
        }

        .roadmap-list {
            list-style: none;
            padding: 0;
        }

        .roadmap-list li {
            padding: 0.75rem 1rem;
            margin-bottom: 0.5rem;
            background: white;
            border-radius: 8px;
            border-left: 4px solid #667eea;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .roadmap-list li.completed {
            border-left-color: #28a745;
            opacity: 0.7;
        }

        .roadmap-list li.in-progress {
            border-left-color: #f7931e;
            font-weight: bold;
        }

        .status-badge {
            font-size: 0.75rem;
            padding: 0.25rem 0.5rem;
            border-radius: 12px;
            margin-left: auto;
            font-weight: bold;
        }

        .status-badge.completed {
            background: #28a745;
            color: white;
        }

        .status-badge.in-progress {
            background: #f7931e;
            color: white;
        }

        .status-badge.planned {
            background: #6c757d;
            color: white;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.5rem;
            }

            .feature-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="app-container">
        <div class="header">
            <h1>🚗 Road Trip Games</h1>
            <p>Your Ultimate Travel Companion</p>
        </div>

        <div class="content">
            <div class="welcome">
                <h2>Welcome to Road Trip Games!</h2>
                <p>The all-in-one app for making your road trips more fun and memorable. Track license plates, play games, and learn interesting facts along the way!</p>
            </div>

            <div class="feature-grid">
                <div class="feature-card" onclick="showLicensePlateTracker()">
                    <h3>🚙 License Plates</h3>
                    <p>Track all the state plates you spot on your journey</p>
                </div>

                <div class="feature-card" onclick="showGamesMenu()">
                    <h3>🎮 Games</h3>
                    <p>Play fun games to pass the time on long drives</p>
                </div>

                <div class="feature-card" onclick="alert('GPS Facts - Coming Soon!')">
                    <h3>📍 GPS Facts</h3>
                    <p>Learn interesting facts about places you're driving through</p>
                </div>

                <div class="feature-card" onclick="alert('Trip Bingo - Coming Soon!')">
                    <h3>🎯 Travel Bingo</h3>
                    <p>Spot common road trip sights and win!</p>
                </div>
            </div>

            <!-- License Plate Tracker Section (hidden by default) -->
            <div id="plateTracker" style="display: none;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
                    <h2>🚙 License Plate Tracker</h2>
                    <button onclick="showHome()" style="background: #6c757d; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 10px; cursor: pointer; font-size: 1rem;">← Back to Home</button>
                </div>

                <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 2rem; border-radius: 15px; margin-bottom: 2rem;">
                    <div style="text-align: center; margin-bottom: 1.5rem;">
                        <h3 style="font-size: 2rem; margin-bottom: 0.5rem;" id="plateProgress">0 / 64</h3>
                        <p style="font-size: 1.1rem;">Total Plates Collected</p>
                        <div style="background: white; height: 20px; border-radius: 10px; overflow: hidden; margin-top: 1rem;">
                            <div id="plateProgressBar" style="background: #28a745; height: 100%; width: 0%; transition: width 0.3s;"></div>
                        </div>
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-top: 1.5rem; padding-top: 1.5rem; border-top: 2px solid rgba(255,255,255,0.3);">
                        <div style="text-align: center;">
                            <div style="font-size: 1.5rem; font-weight: bold;" id="usProgress">0 / 51</div>
                            <div style="font-size: 0.9rem; opacity: 0.9; margin-top: 0.25rem;">🇺🇸 United States</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 1.5rem; font-weight: bold;" id="canadaProgress">0 / 13</div>
                            <div style="font-size: 0.9rem; opacity: 0.9; margin-top: 0.25rem;">🇨🇦 Canada</div>
                        </div>
                    </div>
                </div>

                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem;">
                    <!-- US States Section -->
                    <div>
                        <h3 style="color: #ff6b35; margin-bottom: 1rem; font-size: 1.5rem;">🇺🇸 United States</h3>
                        <div id="usStates"></div>
                    </div>

                    <!-- Canadian Provinces Section -->
                    <div>
                        <h3 style="color: #ff6b35; margin-bottom: 1rem; font-size: 1.5rem;">🇨🇦 Canada</h3>
                        <div id="canadaProvinces"></div>
                    </div>
                </div>
            </div>

            <!-- Games Menu Section (hidden by default) -->
            <div id="gamesMenu" style="display: none;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
                    <h2>🎮 Road Trip Games</h2>
                    <button onclick="showHome()" style="background: #6c757d; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 10px; cursor: pointer; font-size: 1rem;">← Back to Home</button>
                </div>

                <div class="feature-grid">
                    <div class="feature-card" onclick="launchBattleship()" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                        <h3>⚓ Battleship</h3>
                        <p>Pass-and-play naval combat game</p>
                    </div>

                    <div class="feature-card" onclick="launchISpy()" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">
                        <h3>👀 I Spy</h3>
                        <p>Classic observation game</p>
                    </div>

                    <div class="feature-card" onclick="launchTwentyQuestions()" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);">
                        <h3>❓ 20 Questions</h3>
                        <p>Guess what I'm thinking!</p>
                    </div>

                    <div class="feature-card" onclick="launchWouldYouRather()" style="background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);">
                        <h3>🤔 Would You Rather</h3>
                        <p>Funny and tough choices</p>
                    </div>
                </div>
            </div>

            <div class="roadmap">
                <h2>🗺️ Development Roadmap</h2>

                <div class="roadmap-section">
                    <h3>✅ Completed</h3>
                    <ul class="roadmap-list">
                        <li class="completed">
                            <span>🚀 Initial PWA setup with offline support</span>
                            <span class="status-badge completed">Done</span>
                        </li>
                        <li class="completed">
                            <span>📱 Mobile-responsive design</span>
                            <span class="status-badge completed">Done</span>
                        </li>
                        <li class="completed">
                            <span>🚙 License Plate Tracker - All 51 US states/DC + 13 Canadian provinces</span>
                            <span class="status-badge completed">Done</span>
                        </li>
                    </ul>
                </div>

                <div class="roadmap-section">
                    <h3>🎯 Up Next</h3>
                    <ul class="roadmap-list">
                        <li class="planned">
                            <span>🎮 Classic Road Trip Games (I Spy, 20 Questions, Would You Rather)</span>
                            <span class="status-badge planned">Planned</span>
                        </li>
                    </ul>
                </div>

                <div class="roadmap-section">
                    <h3>💡 Future Features</h3>
                    <ul class="roadmap-list">
                        <li class="planned">
                            <span>🎯 Travel Bingo (Spot cows, water towers, bridges, etc.)</span>
                            <span class="status-badge planned">Planned</span>
                        </li>
                        <li class="planned">
                            <span>📍 GPS-Based Location Facts</span>
                            <span class="status-badge planned">Planned</span>
                        </li>
                        <li class="planned">
                            <span>📊 Trip Statistics & Mileage Tracker</span>
                            <span class="status-badge planned">Planned</span>
                        </li>
                        <li class="planned">
                            <span>📸 Trip Photo Journal</span>
                            <span class="status-badge planned">Planned</span>
                        </li>
                        <li class="planned">
                            <span>🗺️ Interactive Trip Map</span>
                            <span class="status-badge planned">Planned</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <script>
        // License plate data with abbreviations
        const US_STATES = [
            { name: 'Alabama', abbr: 'AL' },
            { name: 'Alaska', abbr: 'AK' },
            { name: 'Arizona', abbr: 'AZ' },
            { name: 'Arkansas', abbr: 'AR' },
            { name: 'California', abbr: 'CA' },
            { name: 'Colorado', abbr: 'CO' },
            { name: 'Connecticut', abbr: 'CT' },
            { name: 'Delaware', abbr: 'DE' },
            { name: 'District of Columbia', abbr: 'DC' },
            { name: 'Florida', abbr: 'FL' },
            { name: 'Georgia', abbr: 'GA' },
            { name: 'Hawaii', abbr: 'HI' },
            { name: 'Idaho', abbr: 'ID' },
            { name: 'Illinois', abbr: 'IL' },
            { name: 'Indiana', abbr: 'IN' },
            { name: 'Iowa', abbr: 'IA' },
            { name: 'Kansas', abbr: 'KS' },
            { name: 'Kentucky', abbr: 'KY' },
            { name: 'Louisiana', abbr: 'LA' },
            { name: 'Maine', abbr: 'ME' },
            { name: 'Maryland', abbr: 'MD' },
            { name: 'Massachusetts', abbr: 'MA' },
            { name: 'Michigan', abbr: 'MI' },
            { name: 'Minnesota', abbr: 'MN' },
            { name: 'Mississippi', abbr: 'MS' },
            { name: 'Missouri', abbr: 'MO' },
            { name: 'Montana', abbr: 'MT' },
            { name: 'Nebraska', abbr: 'NE' },
            { name: 'Nevada', abbr: 'NV' },
            { name: 'New Hampshire', abbr: 'NH' },
            { name: 'New Jersey', abbr: 'NJ' },
            { name: 'New Mexico', abbr: 'NM' },
            { name: 'New York', abbr: 'NY' },
            { name: 'North Carolina', abbr: 'NC' },
            { name: 'North Dakota', abbr: 'ND' },
            { name: 'Ohio', abbr: 'OH' },
            { name: 'Oklahoma', abbr: 'OK' },
            { name: 'Oregon', abbr: 'OR' },
            { name: 'Pennsylvania', abbr: 'PA' },
            { name: 'Rhode Island', abbr: 'RI' },
            { name: 'South Carolina', abbr: 'SC' },
            { name: 'South Dakota', abbr: 'SD' },
            { name: 'Tennessee', abbr: 'TN' },
            { name: 'Texas', abbr: 'TX' },
            { name: 'Utah', abbr: 'UT' },
            { name: 'Vermont', abbr: 'VT' },
            { name: 'Virginia', abbr: 'VA' },
            { name: 'Washington', abbr: 'WA' },
            { name: 'West Virginia', abbr: 'WV' },
            { name: 'Wisconsin', abbr: 'WI' },
            { name: 'Wyoming', abbr: 'WY' }
        ];

        const CANADA_PROVINCES = [
            { name: 'Alberta', abbr: 'AB' },
            { name: 'British Columbia', abbr: 'BC' },
            { name: 'Manitoba', abbr: 'MB' },
            { name: 'New Brunswick', abbr: 'NB' },
            { name: 'Newfoundland and Labrador', abbr: 'NL' },
            { name: 'Northwest Territories', abbr: 'NT' },
            { name: 'Nova Scotia', abbr: 'NS' },
            { name: 'Nunavut', abbr: 'NU' },
            { name: 'Ontario', abbr: 'ON' },
            { name: 'Prince Edward Island', abbr: 'PE' },
            { name: 'Quebec', abbr: 'QC' },
            { name: 'Saskatchewan', abbr: 'SK' },
            { name: 'Yukon', abbr: 'YT' }
        ];

        // Generate license plate SVG
        function createPlateSVG(abbr, isChecked) {
            return `
                <svg width="100" height="50" viewBox="0 0 100 50" style="border-radius: 4px; box-shadow: 0 2px 4px rgba(0,0,0,0.2);">
                    <rect width="100" height="50" rx="4" fill="${isChecked ? '#28a745' : '#4a90e2'}"/>
                    <rect x="2" y="2" width="96" height="46" rx="3" fill="white"/>
                    <text x="50" y="32" font-family="Arial, sans-serif" font-size="20" font-weight="bold" text-anchor="middle" fill="${isChecked ? '#28a745' : '#333'}">${abbr}</text>
                </svg>
            `;
        }

        // Load saved progress from localStorage
        let collectedPlates = JSON.parse(localStorage.getItem('collectedPlates') || '{}');

        function showHome() {
            document.querySelector('.welcome').style.display = 'block';
            document.querySelector('.feature-grid').style.display = 'grid';
            document.querySelector('.roadmap').style.display = 'block';
            document.getElementById('plateTracker').style.display = 'none';
            document.getElementById('gamesMenu').style.display = 'none';
        }

        function showGamesMenu() {
            document.querySelector('.welcome').style.display = 'none';
            document.querySelector('.feature-grid').style.display = 'none';
            document.querySelector('.roadmap').style.display = 'none';
            document.getElementById('plateTracker').style.display = 'none';
            document.getElementById('gamesMenu').style.display = 'block';
        }

        function showLicensePlateTracker() {
            document.querySelector('.welcome').style.display = 'none';
            document.querySelector('.feature-grid').style.display = 'none';
            document.querySelector('.roadmap').style.display = 'none';
            document.getElementById('plateTracker').style.display = 'block';
            loadPlateTracker();
        }

        function loadPlateTracker() {
            // Render US States
            const usContainer = document.getElementById('usStates');
            usContainer.innerHTML = US_STATES.map(state => {
                const isChecked = collectedPlates[state.name] || false;
                return `
                    <label style="display: flex; align-items: center; gap: 1rem; padding: 1rem; background: ${isChecked ? '#d4edda' : 'white'}; margin-bottom: 0.75rem; border-radius: 10px; cursor: pointer; border: 2px solid ${isChecked ? '#28a745' : '#e9ecef'}; transition: all 0.2s;">
                        <input type="checkbox" ${isChecked ? 'checked' : ''} onchange="togglePlate('${state.name}')" style="width: 24px; height: 24px; cursor: pointer;">
                        <div style="flex-shrink: 0;">
                            ${createPlateSVG(state.abbr, isChecked)}
                        </div>
                        <span style="font-size: 1.1rem; font-weight: ${isChecked ? 'bold' : 'normal'}; color: ${isChecked ? '#155724' : '#333'};">${state.name}</span>
                        ${isChecked ? '<span style="margin-left: auto; color: #28a745; font-size: 1.5rem;">✓</span>' : ''}
                    </label>
                `;
            }).join('');

            // Render Canadian Provinces
            const canadaContainer = document.getElementById('canadaProvinces');
            canadaContainer.innerHTML = CANADA_PROVINCES.map(province => {
                const isChecked = collectedPlates[province.name] || false;
                return `
                    <label style="display: flex; align-items: center; gap: 1rem; padding: 1rem; background: ${isChecked ? '#d4edda' : 'white'}; margin-bottom: 0.75rem; border-radius: 10px; cursor: pointer; border: 2px solid ${isChecked ? '#28a745' : '#e9ecef'}; transition: all 0.2s;">
                        <input type="checkbox" ${isChecked ? 'checked' : ''} onchange="togglePlate('${province.name}')" style="width: 24px; height: 24px; cursor: pointer;">
                        <div style="flex-shrink: 0;">
                            ${createPlateSVG(province.abbr, isChecked)}
                        </div>
                        <span style="font-size: 1.1rem; font-weight: ${isChecked ? 'bold' : 'normal'}; color: ${isChecked ? '#155724' : '#333'};">${province.name}</span>
                        ${isChecked ? '<span style="margin-left: auto; color: #28a745; font-size: 1.5rem;">✓</span>' : ''}
                    </label>
                `;
            }).join('');

            updateProgress();
        }

        function togglePlate(name) {
            collectedPlates[name] = !collectedPlates[name];
            if (!collectedPlates[name]) {
                delete collectedPlates[name];
            }
            localStorage.setItem('collectedPlates', JSON.stringify(collectedPlates));
            loadPlateTracker();
        }

        function updateProgress() {
            // Calculate US states collected
            const usCollected = US_STATES.filter(s => collectedPlates[s.name]).length;
            const usTotal = US_STATES.length;

            // Calculate Canada provinces collected
            const canadaCollected = CANADA_PROVINCES.filter(p => collectedPlates[p.name]).length;
            const canadaTotal = CANADA_PROVINCES.length;

            // Calculate total
            const total = usTotal + canadaTotal;
            const collected = usCollected + canadaCollected;
            const percentage = (collected / total * 100).toFixed(1);

            // Update displays
            document.getElementById('plateProgress').textContent = `${collected} / ${total}`;
            document.getElementById('plateProgressBar').style.width = `${percentage}%`;
            document.getElementById('usProgress').textContent = `${usCollected} / ${usTotal}`;
            document.getElementById('canadaProgress').textContent = `${canadaCollected} / ${canadaTotal}`;
        }

        // Game launcher functions
        function launchBattleship() {
            alert('Battleship - Coming Soon!\n\nPass-and-play naval combat game where you take turns trying to sink each other\'s fleet.');
        }

        function launchISpy() {
            alert('I Spy - Coming Soon!\n\nClassic observation game for spotting things on your road trip!');
        }

        function launchTwentyQuestions() {
            alert('20 Questions - Coming Soon!\n\nGuess what I\'m thinking in 20 questions or less!');
        }

        function launchWouldYouRather() {
            alert('Would You Rather - Coming Soon!\n\nFunny and thought-provoking choices to discuss on your trip!');
        }

        // Register service worker for PWA functionality
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('./sw.js')
                    .then(reg => console.log('Service Worker registered'))
                    .catch(err => console.log('Service Worker registration failed:', err));
            });
        }
    </script>
</body>
</html>
